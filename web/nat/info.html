<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>NAT - Manual de Uso</title>
    
    <link rel="stylesheet" href="/web/00-css/nat/info.css">
</head>
<body>
    <div class="info-container">
        <h2> M贸dulo NAT - Manual de Uso</h2>
        <p>
            El m贸dulo NAT (Network Address Translation) permite que dispositivos en redes internas 
            accedan a Internet compartiendo la IP p煤blica del router mediante masquerading.
        </p>
        
        <h3>Funcionalidades:</h3>
        <ul class="feature-list">
            <li><strong>Masquerading:</strong> Traduce IPs privadas a la IP p煤blica de la interfaz WAN</li>
            <li><strong>IPv4 Forwarding:</strong> Habilita reenv铆o de paquetes entre interfaces</li>
            <li><strong>Configuraci贸n flexible:</strong> Define interfaz WAN e interna desde JSON</li>
            <li><strong>Reglas iptables:</strong> Gesti贸n autom谩tica de reglas en POSTROUTING</li>
            <li><strong>Logs completos:</strong> Registro de activaci贸n, desactivaci贸n y errores</li>
        </ul>

        <h3>Botones de Acci贸n:</h3>
        
        <div class="action-box">
            <strong> NAT START</strong>
            <p>Activa NAT masquerading. Habilita <code>net.ipv4.ip_forward=1</code> en sysctl y a帽ade regla iptables <code>-t nat -A POSTROUTING -o WAN_IF -j MASQUERADE</code>. Permite que redes internas accedan a Internet.</p>
        </div>

        <div class="action-box">
            <strong> NAT STOP</strong>
            <p>Desactiva NAT. Elimina reglas de masquerading de iptables y opcionalmente deshabilita el reenv铆o IP. Todo tr谩fico interno queda sin acceso a Internet hasta reactivar.</p>
        </div>

        <div class="action-box">
            <strong> NAT RESTART</strong>
            <p>Reinicia NAT. Ejecuta STOP seguido de START. til tras cambiar interfaz WAN o aplicar nueva configuraci贸n.</p>
        </div>

        <div class="action-box">
            <strong> NAT STATUS</strong>
            <p>Muestra estado de NAT: activo/inactivo, interfaz WAN configurada, interfaz interna, estado de IP forwarding (<code>cat /proc/sys/net/ipv4/ip_forward</code>), y reglas activas en tabla NAT de iptables.</p>
        </div>

        <div class="action-box">
            <strong>锔 NAT CONFIG</strong>
            <p>Permite configurar interfaz WAN y opcionalmente interfaz interna. La configuraci贸n se guarda en <code>config/nat/nat.json</code> y persiste entre reinicios. Debe hacer RESTART para aplicar cambios.</p>
        </div>


        <div class="tip">
            <strong> Consejo:</strong> 
            Aseg煤rese de que la interfaz WAN est茅 activa antes de iniciar NAT. Verifique con WAN STATUS. 
            NAT debe estar activo para que las VLANs tengan acceso a Internet.
        </div>
    </div>
</body>
</html>
